<!DOCTYPE html>
<html lang="de" dir="ltr">

<head>
    <meta charset="UTF-8">
    <!-- Wichtigster Meta-Tag für Responsive Design -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maßgefertigte Einbautüren | Ihr Handwerksprofi</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <!-- Custom CSS -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        
        .slide {
            transition: opacity 1s ease-in-out;
        }
        
        .calendar-day.selected {
            background-color: #2563eb;
            /* bg-blue-600 */
            color: white;
            border-radius: 50%;
        }
        
        .calendar-day.today {
            font-weight: bold;
            border: 2px solid #2563eb;
            border-radius: 50%;
        }
        
        .calendar-day:not(.disabled):hover {
            background-color: #dbeafe;
            /* bg-blue-100 */
            border-radius: 50%;
        }
        
        #toast-notification {
            transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800">

    <!-- =========== HEADER =========== -->
    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <!-- Responsive Padding: px-4 auf kleinen Screens, px-6 auf größeren -->
        <nav class="container mx-auto px-4 sm:px-6 py-4 flex justify-between items-center">
            <div class="text-xl sm:text-2xl font-bold text-gray-900" id="logo">MEGADOORS</div>
            <div class="flex items-center space-x-2 sm:space-x-4">
                <button onclick="changeLanguage('de')" class="lang-btn active:ring-2 ring-blue-500 rounded px-2 py-1 text-sm font-semibold">DE</button>
                <button onclick="changeLanguage('fr')" class="lang-btn active:ring-2 ring-blue-500 rounded px-2 py-1 text-sm font-semibold">FR</button>
                <button onclick="changeLanguage('ar')" class="lang-btn active:ring-2 ring-blue-500 rounded px-2 py-1 text-sm font-semibold">AR</button>
            </div>
        </nav>
    </header>

    <main>
        <!-- =========== HERO SLIDER =========== -->
        <section id="home" class="relative w-full h-[70vh] md:h-[80vh] overflow-hidden bg-gray-900">
            <div id="slider" class="relative w-full h-full">
                <!-- Slide 1 -->
                <div class="slide absolute w-full h-full opacity-100">
                    <img src="Assets/K001_Duz_Yuzey_Beyaz.jpg" alt="Moderne Einbautür in einem eleganten Flur" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-black/60"></div>
                    <div class="absolute inset-0 flex items-center justify-center text-white text-center p-4 sm:p-8">
                        <div class="max-w-3xl">
                            <!-- Responsive Schriftgröße -->
                            <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4" data-lang="slide1_title">Maßgefertigte Einbautüren – Eleganz und Sicherheit für Ihr Zuhause.</h1>
                            <a href="#contact" class="mt-4 inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 sm:px-8 rounded-lg transition duration-300" data-lang="slide_cta">Jetzt Termin vereinbaren</a>
                        </div>
                    </div>
                </div>
                <!-- Slide 2 -->
                <div class="slide absolute w-full h-full opacity-0">
                    <img src="Assets/artella-ahsap-ic-kapi-modelleri-olimpia-1-0.webp" alt="Detailaufnahme einer handgefertigten Holztür" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-black/60"></div>
                    <div class="absolute inset-0 flex items-center justify-center text-white text-center p-4 sm:p-8">
                        <div class="max-w-3xl">
                            <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4" data-lang="slide2_title">Präzision und Handwerkskunst – Türen, die Generationen überdauern.</h1>
                            <a href="#contact" class="mt-4 inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 sm:px-8 rounded-lg transition duration-300" data-lang="slide_cta">Jetzt Termin vereinbaren</a>
                        </div>
                    </div>
                </div>
                <!-- Slide 3 -->
                <div class="slide absolute w-full h-full opacity-0">
                    <img src="Assets/K008_Avustralya_Ceviz.jpg" alt="Individuell gestaltete Tür in einem modernen Wohnraum" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-black/60"></div>
                    <div class="absolute inset-0 flex items-center justify-center text-white text-center p-4 sm:p-8">
                        <div class="max-w-3xl">
                            <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4" data-lang="slide3_title">Individuelles Design nach Ihren Wünschen – Gestalten Sie Ihre Traumtür.</h1>
                            <a href="#contact" class="mt-4 inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 sm:px-8 rounded-lg transition duration-300" data-lang="slide_cta">Jetzt Termin vereinbaren</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- =========== ÜBER MICH =========== -->
        <section id="about" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 text-center">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-4" data-lang="about_title">Qualität aus Meisterhand</h2>
                <p class="max-w-3xl mx-auto text-gray-600 mb-8" data-lang="about_text">
                    Mit über 15 Jahren Erfahrung im Tischlerhandwerk stehe ich für höchste Präzision und Leidenschaft. Jede Tür ist ein Unikat, das ich persönlich nach Ihren Vorstellungen entwerfe, fertige und montiere. Mein Qualitätsversprechen: Ich verwende ausschließlich
                    erstklassige Materialien, garantiere eine sorgfältige Verarbeitung und absolute Termintreue. Ihre Zufriedenheit ist mein Antrieb.
                </p>
                <a href="#contact" class="bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 px-8 rounded-lg transition duration-300" data-lang="about_cta">Unverbindliches Angebot anfordern</a>
            </div>
        </section>

        <!-- =========== PRODUKTE =========== -->
        <section id="products" class="py-16 md:py-24 bg-gray-50">
            <div class="container mx-auto px-4 sm:px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl sm:text-4xl font-bold text-gray-900" data-lang="products_title">Unsere Türenmodelle</h2>
                    <p class="mt-4 text-gray-600 max-w-2xl mx-auto" data-lang="products_intro">Entdecken Sie eine Auswahl unserer maßgefertigten Türen. Jedes Modell kann individuell an Ihre Wünsche angepasst werden.</p>
                </div>

                <!-- Responsive Grid: 1 Spalte auf Mobile, 2 auf Tablets, 3 auf Desktops -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                    <!-- Produkt 1 -->
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-transform duration-300">
                        <!-- Angepasste Bildhöhe (h-96) und Platzhaltergröße (720x960) -->
                        <img src="Assets/Modern.jpg" alt="Platzhalterbild für Türmodell Klassik" class="w-full h-96 object-cover">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-2" data-lang="product1_name">Modell "Klassik"</h3>
                            <p class="text-gray-600" data-lang="product1_desc">Zeitlose Eleganz, gefertigt aus massivem Eichenholz. Perfekt für einen traditionellen und wertigen Eingangsbereich.</p>
                        </div>
                    </div>
                    <!-- Produkt 2 -->
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-transform duration-300">
                        <!-- Angepasste Bildhöhe (h-96) und Platzhaltergröße (720x960) -->
                        <img src="Assets/489289856_1219834509872739_8404007551498838039_n.jpg" alt="Platzhalterbild für Türmodell Modern" class="w-full h-96 object-cover">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-2" data-lang="product2_name">Modell "Modern"</h3>
                            <p class="text-gray-600" data-lang="product2_desc">Klare Linien und eine minimalistische Ästhetik. Ideal für moderne Architektur und ein stilvolles Zuhause.</p>
                        </div>
                    </div>
                    <!-- Produkt 3 -->
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-transform duration-300">
                        <!-- Angepasste Bildhöhe (h-96) und Platzhaltergröße (720x960) -->
                        <img src="Assets/487855160_1211049520751238_4400322359878013052_n.jpg" alt="Platzhalterbild für Türmodell Landhaus" class="w-full h-96 object-cover">
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-2" data-lang="product3_name">Modell "Landhaus"</h3>
                            <p class="text-gray-600" data-lang="product3_desc">Rustikaler Charme und gemütliche Ausstrahlung. Bringt Wärme und Natürlichkeit in Ihr Heim.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- =========== KONTAKTFORMULAR & KALENDER =========== -->
        <section id="contact" class="py-16 md:py-24 bg-gray-100">
            <div class="container mx-auto px-4 sm:px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl sm:text-4xl font-bold text-gray-900" data-lang="contact_title">Kontaktieren Sie mich für ein kostenloses Beratungsgespräch</h2>
                    <p class="mt-4 text-gray-600" data-lang="contact_intro">Füllen Sie das Formular aus, wählen Sie einen Wunschtermin und ich melde mich bei Ihnen.</p>
                </div>

                <!-- Responsive Grid: Formular und Kalender stapeln auf Mobile -->
                <div class="max-w-6xl mx-auto md:grid md:grid-cols-2 md:gap-16 items-start">
                    <!-- Formular -->
                    <form id="contact-form" class="space-y-6">
                        <input type="hidden" id="appointment_date" name="appointment_date">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700" data-lang="form_name_label">Ihr Name</label>
                            <input type="text" id="name" name="name" required class="mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700" data-lang="form_email_label">Ihre E-Mail</label>
                            <input type="email" id="email" name="email" required class="mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                        </div>
                        <div>
                            <label for="phone" class="block text-sm font-medium text-gray-700" data-lang="form_phone_label">Ihre Telefonnummer (optional)</label>
                            <input type="tel" id="phone" name="phone" class="mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                        </div>
                        <div>
                            <label for="message" class="block text-sm font-medium text-gray-700" data-lang="form_message_label">Ihre Nachricht</label>
                            <textarea id="message" name="message" rows="4" required class="mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"></textarea>
                        </div>
                        <div>
                            <button type="submit" id="submit-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 text-lg flex items-center justify-center" data-lang="form_submit_btn">
                                Anfrage senden
                            </button>
                        </div>
                    </form>

                    <!-- Kalender (Margin-Top nur auf Mobile, wenn er unter das Formular rutscht) -->
                    <div class="mt-12 md:mt-0 bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4 text-center" data-lang="calendar_title">Wunschtermin auswählen</h3>
                        <div id="calendar-container">
                            <div class="flex justify-between items-center mb-4">
                                <button id="prev-month" class="p-2 rounded-full hover:bg-gray-200">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                                </button>
                                <div id="month-year" class="text-lg font-semibold"></div>
                                <button id="next-month" class="p-2 rounded-full hover:bg-gray-200">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                                </button>
                            </div>
                            <div id="calendar-grid" class="grid grid-cols-7 gap-1 text-center"></div>
                        </div>
                        <p class="text-gray-500 text-sm mt-4 text-center" data-lang="calendar_info">Dies ist ein Wunschtermin. Ich werde ihn schnellstmöglich bestätigen.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- =========== FOOTER =========== -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4 sm:px-6 text-center">
            <p>&copy; 2025 <span id="footer-logo">Megadoors</span>. <span data-lang="footer_rights">All rights reserved</span></p>
            <div class="mt-4 space-x-4">
                <a href="#" class="hover:text-blue-400" data-lang="footer_imprint">Impressum</a>
                <a href="#" class="hover:text-blue-400" data-lang="footer_privacy">Datenschutz</a>
            </div>
        </div>
    </footer>

    <!-- Benachrichtigungs-Container (Toast) -->
    <div id="toast-notification" class="fixed bottom-5 right-5 p-4 rounded-lg text-white translate-x-[200%] opacity-0">
        <p id="toast-message"></p>
    </div>

    <script>
        const translations = {
            de: {
                slide1_title: "Maßgefertigte Einbautüren – Eleganz und Sicherheit für Ihr Zuhause.",
                slide2_title: "Präzision und Handwerkskunst – Türen, die Generationen überdauern.",
                slide3_title: "Individuelles Design nach Ihren Wünschen – Gestalten Sie Ihre Traumtür.",
                slide_cta: "Jetzt Termin vereinbaren",
                about_title: "Qualität aus Meisterhand",
                about_text: "Mit über 15 Jahren Erfahrung im Tischlerhandwerk stehe ich für höchste Präzision und Leidenschaft. Jede Tür ist ein Unikat, das ich persönlich nach Ihren Vorstellungen entwerfe, fertige und montiere. Mein Qualitätsversprechen: Ich verwende ausschließlich erstklassige Materialien, garantiere eine sorgfältige Verarbeitung und absolute Termintreue. Ihre Zufriedenheit ist mein Antrieb.",
                about_cta: "Unverbindliches Angebot anfordern",
                products_title: "Unsere Türenmodelle",
                products_intro: "Entdecken Sie eine Auswahl unserer maßgefertigten Türen. Jedes Modell kann individuell an Ihre Wünsche angepasst werden.",
                product1_name: "Modell 'Klassik'",
                product1_desc: "Zeitlose Eleganz, gefertigt aus massivem Eichenholz. Perfekt für einen traditionellen und wertigen Eingangsbereich.",
                product2_name: "Modell 'Modern'",
                product2_desc: "Klare Linien und eine minimalistische Ästhetik. Ideal für moderne Architektur und ein stilvolles Zuhause.",
                product3_name: "Modell 'Landhaus'",
                product3_desc: "Rustikaler Charme und gemütliche Ausstrahlung. Bringt Wärme und Natürlichkeit in Ihr Heim.",
                contact_title: "Kontaktieren Sie mich für ein kostenloses Beratungsgespräch",
                contact_intro: "Füllen Sie das Formular aus, wählen Sie einen Wunschtermin und ich melde mich bei Ihnen.",
                form_name_label: "Ihr Name",
                form_email_label: "Ihre E-Mail",
                form_phone_label: "Ihre Telefonnummer (optional)",
                form_message_label: "Ihre Nachricht",
                form_submit_btn: "Anfrage senden",
                form_sending: "Sende...",
                form_success: "Vielen Dank! Ihre Anfrage wurde gesendet.",
                form_error: "Fehler! Bitte versuchen Sie es später erneut.",
                calendar_title: "Wunschtermin auswählen",
                calendar_info: "Dies ist ein Wunschtermin. Ich werde ihn schnellstmöglich bestätigen.",
                weekdays: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
                months: ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember"],
                footer_rights: "Alle Rechte vorbehalten.",
                footer_imprint: "Impressum",
                footer_privacy: "Datenschutz"
            },
            fr: {
                slide1_title: "Portes encastrées sur mesure – Élégance et sécurité pour votre foyer.",
                slide2_title: "Précision et artisanat – Des portes qui durent des générations.",
                slide3_title: "Design individuel selon vos souhaits – Créez la porte de vos rêves.",
                slide_cta: "Prendre rendez-vous",
                about_title: "La qualité d'un maître artisan",
                about_text: "Avec plus de 15 ans d'expérience en menuiserie, je suis synonyme de la plus haute précision et passion. Chaque porte est une pièce unique que je conçois, fabrique et installe personnellement. Ma promesse de qualité : des matériaux de première classe, une finition soignée et un respect absolu des délais.",
                about_cta: "Demander une offre sans engagement",
                products_title: "Nos modèles de portes",
                products_intro: "Découvrez une sélection de nos portes sur mesure. Chaque modèle peut être adapté individuellement à vos souhaits.",
                product1_name: "Modèle 'Classique'",
                product1_desc: "Élégance intemporelle, en chêne massif. Parfait pour une entrée traditionnelle et de grande valeur.",
                product2_name: "Modèle 'Moderne'",
                product2_desc: "Lignes épurées et esthétique minimaliste. Idéal pour une architecture moderne et une maison élégante.",
                product3_name: "Modèle 'Maison de campagne'",
                product3_desc: "Charme rustique et atmosphère chaleureuse. Apporte chaleur et naturel à votre intérieur.",
                contact_title: "Contactez-moi pour un entretien de conseil gratuit",
                contact_intro: "Remplissez le formulaire, choisissez une date souhaitée et je vous contacterai.",
                form_name_label: "Votre nom",
                form_email_label: "Votre e-mail",
                form_phone_label: "Votre téléphone (optionnel)",
                form_message_label: "Votre message",
                form_submit_btn: "Envoyer la demande",
                form_sending: "Envoi...",
                form_success: "Merci ! Votre demande a été envoyée.",
                form_error: "Erreur ! Veuillez réessayer plus tard.",
                calendar_title: "Choisir une date souhaitée",
                calendar_info: "Ceci est une date souhaitée. Je la confirmerai dès que possible.",
                weekdays: ["Di", "Lu", "Ma", "Me", "Je", "Ve", "Sa"],
                months: ["Janvier", "Février", "Mars", "Avril", "Mai", "Juin", "Juillet", "Août", "Septembre", "Octobre", "Novembre", "Décembre"],
                footer_rights: "Tous droits réservés.",
                footer_imprint: "Mentions légales",
                footer_privacy: "Confidentialité"
            },
            ar: {
                slide1_title: "أبواب مدمجة مصممة خصيصًا - أناقة وأمان لمنزلك.",
                slide2_title: "دقة وحرفية - أبواب تدوم لأجيال.",
                slide3_title: "تصميم فردي حسب رغباتك - صمم باب أحلامك.",
                slide_cta: "احجز موعدًا الآن",
                about_title: "جودة من يد محترف",
                about_text: "بخبرة تزيد عن 15 عامًا في النجارة، أضمن لكم الدقة الشديدة والشغف في العمل. كل باب هو قطعة فريدة أصممها وأصنعها وأركبها شخصيًا حسب رؤيتكم. وعدي بالجودة: أستخدم فقط مواد من الدرجة الأولى، وأضمن صنعة متقنة، والتزامًا تامًا بالمواعيد. رضاكم هو دافعي.",
                about_cta: "اطلب عرض سعر غير ملزم",
                products_title: "نماذج أبوابنا",
                products_intro: "اكتشف مجموعة مختارة من أبوابنا المصممة خصيصًا. يمكن تكييف كل طراز بشكل فردي حسب رغباتك.",
                product1_name: "نموذج 'كلاسيك'",
                product1_desc: "أناقة خالدة مصنوعة من خشب البلوط الصلب. مثالي لمدخل تقليدي وقيم.",
                product2_name: "نموذج 'مودرن'",
                product2_desc: "خطوط نظيفة وجمالية بسيطة. مثالي للعمارة الحديثة والمنزل الأنيق.",
                product3_name: "نموذج 'ريفي'",
                product3_desc: "سحر ريفي وأجواء دافئة. يضفي الدفء والطبيعة على منزلك.",
                contact_title: "اتصل بي للحصول على استشارة مجانية",
                contact_intro: "املأ النموذج، اختر تاريخًا مفضلاً، وسأتصل بك.",
                form_name_label: "اسمك",
                form_email_label: "بريدك الالكتروني",
                form_phone_label: "رقم هاتفك (اختياري)",
                form_message_label: "رسالتك",
                form_submit_btn: "إرسال الطلب",
                form_sending: "جار الإرسال...",
                form_success: "شكرًا لك! تم إرسال طلبك بنجاح.",
                form_error: "خطأ! يرجى المحاولة مرة أخرى لاحقًا.",
                calendar_title: "اختر موعدًا مفضلاً",
                calendar_info: "هذا تاريخ مقترح. سأقوم بتأكيده في أقرب وقت ممكن.",
                weekdays: ["الأحد", "الإثنين", "الثلاثاء", "الأربعاء", "الخميس", "الجمعة", "السبت"],
                months: ["يناير", "فبراير", "مارس", "أبريل", "مايو", "يونيو", "يوليو", "أغسطس", "سبتمبر", "أكتوبر", "نوفمبر", "ديسمبر"],
                footer_rights: "كل الحقوق محفوظة.",
                footer_imprint: "بيانات النشر",
                footer_privacy: "حماية البيانات"
            }
        };

        let currentLanguage = 'de';

        function changeLanguage(lang) {
            currentLanguage = lang;
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';

            document.querySelectorAll('[data-lang]').forEach(el => {
                const key = el.getAttribute('data-lang');
                if (translations[lang] && translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });

            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('bg-blue-600', 'text-white');
                if (btn.innerText.toLowerCase() === lang) {
                    btn.classList.add('bg-blue-600', 'text-white');
                }
            });

            renderCalendar(currentDate);
        }

        // --- Slider Logic ---
        let currentSlide = 0;
        const slides = document.querySelectorAll('#slider .slide');
        const slideCount = slides.length;

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.style.opacity = i === index ? '1' : '0';
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % slideCount;
            showSlide(currentSlide);
        }
        setInterval(nextSlide, 5000);

        // --- Calendar Logic ---
        const calendarGrid = document.getElementById('calendar-grid');
        const monthYearEl = document.getElementById('month-year');
        const appointmentDateInput = document.getElementById('appointment_date');
        let currentDate = new Date();
        let selectedDate = null;

        function renderCalendar(date) {
            calendarGrid.innerHTML = '';
            const month = date.getMonth();
            const year = date.getFullYear();

            monthYearEl.textContent = `${translations[currentLanguage].months[month]} ${year}`;

            const firstDayOfMonth = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();

            translations[currentLanguage].weekdays.forEach(day => {
                const dayEl = document.createElement('div');
                dayEl.className = 'font-bold text-gray-500 text-sm';
                dayEl.textContent = day;
                calendarGrid.appendChild(dayEl);
            });

            for (let i = 0; i < firstDayOfMonth; i++) {
                calendarGrid.appendChild(document.createElement('div'));
            }

            const today = new Date();
            for (let i = 1; i <= daysInMonth; i++) {
                const dayEl = document.createElement('div');
                const dayDate = new Date(year, month, i);

                dayEl.textContent = i;
                dayEl.className = 'calendar-day cursor-pointer p-2';

                if (dayDate < today && dayDate.toDateString() !== today.toDateString()) {
                    dayEl.classList.add('text-gray-300', 'cursor-not-allowed', 'disabled');
                } else {
                    dayEl.addEventListener('click', () => {
                        document.querySelectorAll('.calendar-day.selected').forEach(d => d.classList.remove('selected'));
                        dayEl.classList.add('selected');
                        selectedDate = dayDate;
                        appointmentDateInput.value = selectedDate.toLocaleDateString('de-DE');
                    });
                }

                if (dayDate.toDateString() === today.toDateString()) {
                    dayEl.classList.add('today');
                }
                if (selectedDate && dayDate.toDateString() === selectedDate.toDateString()) {
                    dayEl.classList.add('selected');
                }
                calendarGrid.appendChild(dayEl);
            }
        }

        document.getElementById('prev-month').addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar(currentDate);
        });

        document.getElementById('next-month').addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar(currentDate);
        });

        // --- Email Sending Logic ---
        const contactForm = document.getElementById('contact-form');
        const submitBtn = document.getElementById('submit-btn');

        const EMAILJS_SERVICE_ID = 'service_5cseoq2';
        const EMAILJS_TEMPLATE_ID = 'template_59c5yqd';
        const EMAILJS_PUBLIC_KEY = 'QmUQwLI1vUuxZK0BY';

        contactForm.addEventListener('submit', function(event) {
            event.preventDefault();

            if (EMAILJS_SERVICE_ID === 'YOUR_SERVICE_ID' || EMAILJS_TEMPLATE_ID === 'YOUR_TEMPLATE_ID') {
                showToast("Konfiguration unvollständig. Bitte ersetzen Sie die EmailJS-Platzhalter im Code.", 'error');
                return;
            }

            const originalBtnText = submitBtn.textContent;
            submitBtn.disabled = true;
            submitBtn.innerHTML = `<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> ${translations[currentLanguage].form_sending}`;

            const templateParams = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                message: document.getElementById('message').value,
                appointment_date: appointmentDateInput.value || 'Kein Termin ausgewählt'
            };

            emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, templateParams, EMAILJS_PUBLIC_KEY)
                .then(function(response) {
                    showToast(translations[currentLanguage].form_success, 'success');
                    contactForm.reset();
                    selectedDate = null;
                    renderCalendar(new Date());
                }, function(error) {
                    showToast(translations[currentLanguage].form_error, 'error');
                })
                .finally(() => {
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalBtnText;
                });
        });

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast-notification');
            const toastMessage = document.getElementById('toast-message');

            toastMessage.textContent = message;
            toast.className = 'fixed bottom-5 right-5 p-4 rounded-lg text-white translate-x-[200%] opacity-0';

            if (type === 'success') {
                toast.classList.add('bg-green-500');
            } else {
                toast.classList.add('bg-red-500');
            }

            toast.classList.remove('translate-x-[200%]', 'opacity-0');
            toast.classList.add('translate-x-0', 'opacity-100');

            setTimeout(() => {
                toast.classList.remove('translate-x-0', 'opacity-100');
                toast.classList.add('translate-x-[200%]', 'opacity-0');
            }, 5000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            changeLanguage('de');
        });
    </script>

</body>

</html>